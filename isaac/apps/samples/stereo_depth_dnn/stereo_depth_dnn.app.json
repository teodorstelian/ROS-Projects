{
  "name": "stereo_depth_dnn",
  "modules": [
    "perception",
    "stereo_depth:disparity_dnn",
    "stereo_depth:utils",
    "viewers",
    "zed"
  ],
  "config": {
    "crop_downsample_left": {
        "crop_downsample_left": {
            "crop_start": [20, 6],
            "crop_size": [330, 660],
            "downsample_size": [257, 513]
        }
    },
    "crop_downsample_right": {
        "crop_downsample_right": {
            "crop_start": [20, 6],
            "crop_size": [330, 660],
            "downsample_size": [257, 513]
        }
    },
    "zed": {
        "zed": {
            "resolution": "672x376",
            "tick_period": "60Hz"
        }
    },
    "depth_viz": {
        "depth_viz": {
            "colormap": [
                [128, 0, 0],
                [132, 0, 0],
                [136, 0, 0],
                [140, 0, 0],
                [144, 0, 0],
                [148, 0, 0],
                [152, 0, 0],
                [156, 0, 0],
                [160, 0, 0],
                [164, 0, 0],
                [168, 0, 0],
                [172, 0, 0],
                [176, 0, 0],
                [180, 0, 0],
                [184, 0, 0],
                [188, 0, 0],
                [192, 0, 0],
                [196, 0, 0],
                [200, 0, 0],
                [204, 0, 0],
                [208, 0, 0],
                [212, 0, 0],
                [216, 0, 0],
                [220, 0, 0],
                [224, 0, 0],
                [228, 0, 0],
                [232, 0, 0],
                [236, 0, 0],
                [240, 0, 0],
                [244, 0, 0],
                [248, 0, 0],
                [252, 0, 0],
                [255, 1, 0],
                [255, 4, 0],
                [255, 8, 0],
                [255, 13, 0],
                [255, 17, 0],
                [255, 21, 0],
                [255, 25, 0],
                [255, 29, 0],
                [255, 33, 0],
                [255, 37, 0],
                [255, 41, 0],
                [255, 45, 0],
                [255, 49, 0],
                [255, 53, 0],
                [255, 57, 0],
                [255, 61, 0],
                [255, 65, 0],
                [255, 69, 0],
                [255, 73, 0],
                [255, 77, 0],
                [255, 81, 0],
                [255, 85, 0],
                [255, 89, 0],
                [255, 93, 0],
                [255, 97, 0],
                [255, 101, 0],
                [255, 105, 0],
                [255, 109, 0],
                [255, 113, 0],
                [255, 117, 0],
                [255, 121, 0],
                [255, 125, 0],
                [255, 129, 0],
                [255, 133, 0],
                [255, 137, 0],
                [255, 141, 0],
                [255, 145, 0],
                [255, 149, 0],
                [255, 153, 0],
                [255, 157, 0],
                [255, 161, 0],
                [255, 165, 0],
                [255, 169, 0],
                [255, 173, 0],
                [255, 177, 0],
                [255, 181, 0],
                [255, 185, 0],
                [255, 189, 0],
                [255, 193, 0],
                [255, 197, 0],
                [255, 201, 0],
                [255, 205, 0],
                [255, 209, 0],
                [255, 213, 0],
                [255, 217, 0],
                [255, 221, 0],
                [255, 225, 0],
                [255, 229, 0],
                [255, 233, 0],
                [255, 237, 0],
                [255, 241, 0],
                [255, 245, 0],
                [255, 249, 0],
                [255, 253, 0],
                [254, 255, 2],
                [250, 255, 5],
                [246, 255, 9],
                [242, 255, 14],
                [238, 255, 18],
                [234, 255, 22],
                [230, 255, 26],
                [226, 255, 30],
                [222, 255, 34],
                [218, 255, 38],
                [214, 255, 42],
                [210, 255, 46],
                [206, 255, 50],
                [202, 255, 54],
                [198, 255, 58],
                [194, 255, 62],
                [190, 255, 66],
                [186, 255, 70],
                [182, 255, 74],
                [178, 255, 78],
                [174, 255, 82],
                [170, 255, 86],
                [166, 255, 90],
                [162, 255, 94],
                [158, 255, 98],
                [154, 255, 102],
                [150, 255, 106],
                [146, 255, 110],
                [142, 255, 114],
                [138, 255, 118],
                [134, 255, 122],
                [130, 255, 126],
                [126, 255, 130],
                [122, 255, 134],
                [118, 255, 138],
                [114, 255, 142],
                [110, 255, 146],
                [106, 255, 150],
                [102, 255, 154],
                [98, 255, 158],
                [94, 255, 162],
                [90, 255, 166],
                [86, 255, 170],
                [82, 255, 174],
                [78, 255, 178],
                [74, 255, 182],
                [70, 255, 186],
                [66, 255, 190],
                [62, 255, 194],
                [58, 255, 198],
                [54, 255, 202],
                [50, 255, 206],
                [46, 255, 210],
                [42, 255, 214],
                [38, 255, 218],
                [34, 255, 222],
                [30, 255, 226],
                [26, 255, 230],
                [22, 255, 234],
                [18, 255, 238],
                [14, 255, 242],
                [9, 255, 246],
                [5, 255, 250],
                [2, 255, 254],
                [0, 253, 255],
                [0, 249, 255],
                [0, 245, 255],
                [0, 241, 255],
                [0, 237, 255],
                [0, 233, 255],
                [0, 229, 255],
                [0, 225, 255],
                [0, 221, 255],
                [0, 217, 255],
                [0, 213, 255],
                [0, 209, 255],
                [0, 205, 255],
                [0, 201, 255],
                [0, 197, 255],
                [0, 193, 255],
                [0, 189, 255],
                [0, 185, 255],
                [0, 181, 255],
                [0, 177, 255],
                [0, 173, 255],
                [0, 169, 255],
                [0, 165, 255],
                [0, 161, 255],
                [0, 157, 255],
                [0, 153, 255],
                [0, 149, 255],
                [0, 145, 255],
                [0, 141, 255],
                [0, 137, 255],
                [0, 133, 255],
                [0, 129, 255],
                [0, 125, 255],
                [0, 121, 255],
                [0, 117, 255],
                [0, 113, 255],
                [0, 109, 255],
                [0, 105, 255],
                [0, 101, 255],
                [0, 97, 255],
                [0, 93, 255],
                [0, 89, 255],
                [0, 85, 255],
                [0, 81, 255],
                [0, 77, 255],
                [0, 73, 255],
                [0, 69, 255],
                [0, 65, 255],
                [0, 61, 255],
                [0, 57, 255],
                [0, 53, 255],
                [0, 49, 255],
                [0, 45, 255],
                [0, 41, 255],
                [0, 37, 255],
                [0, 33, 255],
                [0, 29, 255],
                [0, 25, 255],
                [0, 21, 255],
                [0, 17, 255],
                [0, 13, 255],
                [0, 9, 255],
                [0, 4, 255],
                [0, 1, 255],
                [0, 0, 252],
                [0, 0, 248],
                [0, 0, 244],
                [0, 0, 240],
                [0, 0, 236],
                [0, 0, 232],
                [0, 0, 228],
                [0, 0, 224],
                [0, 0, 220],
                [0, 0, 216],
                [0, 0, 212],
                [0, 0, 208],
                [0, 0, 204],
                [0, 0, 200],
                [0, 0, 196],
                [0, 0, 192],
                [0, 0, 188],
                [0, 0, 184],
                [0, 0, 180],
                [0, 0, 176],
                [0, 0, 172],
                [0, 0, 168],
                [0, 0, 164],
                [0, 0, 160],
                [0, 0, 156],
                [0, 0, 152],
                [0, 0, 148],
                [0, 0, 144],
                [0, 0, 140],
                [0, 0, 136],
                [0, 0, 132],
                [0, 0, 128]
            ],
            "use_colormap": true,
            "reduce_scale": 1,
            "min_visualization_depth":1.0,
            "max_visualization_depth":10.0
        }
    },
    "websight": {
      "WebsightServer": {
        "port": 3000,
        "ui_config": {
          "windows": {
            "depth": {
              "renderer": "2d",
              "channels": [
                {
                  "name": "stereo_depth_dnn/depth_viz/depth_viz/Depth"
                }
              ]
            },
            "color_left": {
              "renderer": "2d",
              "channels": [
                {
                  "name": "stereo_depth_dnn/zed/zed/left_rgb"
                }
              ]
            }
          }
        }
      }
    }
  },
  "graph": {
    "nodes": [
      {
        "name": "zed",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "zed",
            "type": "isaac::ZedCamera"
          }
        ]
      },
      {
        "name": "crop_downsample_left",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "crop_downsample_left",
            "type": "isaac::perception::CropAndDownsampleCuda"
          }
        ]
      },
      {
        "name": "crop_downsample_right",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "crop_downsample_right",
            "type": "isaac::perception::CropAndDownsampleCuda"
          }
        ]
      },
      {
        "name": "stereodnn",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "stereodnn",
            "type": "isaac::perception::StereoDisparityNet"
          }
        ]
      },
      {
        "name": "disparitytodepth",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "disparitytodepth",
            "type": "isaac::perception::DisparityToDepth"
          }
        ]
      },
      {
        "name": "depth_viz",
        "components": [
          {
            "name": "message_ledger",
            "type": "isaac::alice::MessageLedger"
          },
          {
            "name": "depth_viz",
            "type": "isaac::viewers::DepthCameraViewer"
          }
        ]
      }
    ],
    "edges": [
      {
        "source": "zed/zed/left_camera_rgb",
        "target": "crop_downsample_left/crop_downsample_left/input_image"
      },
      {
        "source": "zed/zed/right_camera_rgb",
        "target": "crop_downsample_right/crop_downsample_right/input_image"
      },
      {
        "source": "crop_downsample_left/crop_downsample_left/output_image",
        "target": "stereodnn/stereodnn/left"
      },
      {
        "source": "crop_downsample_right/crop_downsample_right/output_image",
        "target": "stereodnn/stereodnn/right"
      },
      {
        "source": "zed/zed/extrinsics",
        "target": "disparitytodepth/disparitytodepth/extrinsics"
      },
      {
        "source": "stereodnn/stereodnn/left_disparity",
        "target": "disparitytodepth/disparitytodepth/disparity"
      },
      {
        "source": "disparitytodepth/disparitytodepth/depth",
        "target": "depth_viz/depth_viz/depth_listener"
      }
    ]
  }
}
